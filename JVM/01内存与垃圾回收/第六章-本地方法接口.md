`引言`

`本地方法栈`是用来 管理`本地方法`的调用



## 本地方法接口

### 1、是什么

简单来讲，就是Java发展初期，c 已经是业界大佬，因此Java必须抱大腿，类似于鸿蒙兼容安卓一样，推出了`本地方法`用以支持 Java程序中调用一些C的程序



### 2、关键字

在Java中 使用 native修饰的方法。



在Object中

![image-20210424182201739](第六章-本地方法接口.assets/image-20210424182201739.png)

亦或是 Thread中，每个Java线程都映射一个本地操作系统线程。

![image-20210424182313254](第六章-本地方法接口.assets/image-20210424182313254.png)



### 3、重要性

现在Java 发展了将近二十多年，已成长为参天巨树，随着越来越多的开发者加入，Java的类库或者说是生态圈趋于完美，因此本地方法 使用量也越来越少。理解下即可。



## 本地方法栈

* 和虚拟机栈及其相似，线程私有
* 容量可设置大小，或者是动态扩展，存在栈溢出情况或者OOM
* 并不是所有的JVM都支持本地方法，Hotspot JVM中，直接将本地方法栈和虚拟机栈合二为一。

> 当某个线程调用一个本地方法时，它就进入了一个全新的并且不再受虚拟机限制的世界。它和虚拟机拥有同样的权限。
>
> - 本地方法可以通过本地方法接口来访问虚拟机内部的运行时数据区。
> - 它甚至可以直接使用本地处理器中的寄存器
> - 直接从本地内存的堆中分配任意数量的内存。